<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>File as code</title>
    <!-- Bootstrap CSS -->
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">

    <script src="wasm_exec.js"></script>
    <script>
        const go = new Go();
        WebAssembly.instantiateStreaming(fetch("json.wasm"), go.importObject).then((result) => {

            go.run(result.instance);

        });
    </script>
</head>
<body>
    <div class="container mt-5">
        <h2 class="mb-4">File as code</h2>
        
        <!-- Input Field -->
        <div class="form-group">
            <label for="inputField">Input Field</label>
            <input type="text" class="form-control" id="inputField" placeholder="Enter text">
        </div>

        <!-- Combo Box for Decimal, Binary, Char -->
        <div class="form-group">
            <label for="numberType">Number Type</label>
            <select class="form-control" id="numberType">
                <option>Hex</option>
                <option>Char</option>
                <option>Binary</option>
                <option>Decimal</option>
            </select>
        </div>

        <!-- Individual Checkboxes -->
        <div class="form-group">
            <label>Options</label>
            <div class="form-check">
                <input class="form-check-input" type="checkbox" id="arrayCheckbox">
                <label class="form-check-label" for="arrayCheckbox">Array</label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="checkbox" id="cppCheckbox">
                <label class="form-check-label" for="cppCheckbox">C++</label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="checkbox" id="ucCheckbox">
                <label class="form-check-label" for="ucCheckbox">UC</label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="checkbox" id="inlineCheckbox">
                <label class="form-check-label" for="inlineCheckbox">Inline</label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="checkbox" id="shrinkCheckbox">
                <label class="form-check-label" for="shrinkCheckbox">Shrink</label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="checkbox" id="gzipCheckbox">
                <label class="form-check-label" for="gzipCheckbox">Gzip</label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="checkbox" id="zlibCheckbox">
                <label class="form-check-label" for="zlibCheckbox">Zlib</label>
            </div>
        </div>

        <!-- Combo Box for Speed/Compression -->
        <div class="form-group">
            <label for="speedCompression">Speed/Compression</label>
            <select class="form-control" id="speedCompression">
                <option>Default</option>
                <option>Best speed</option>
                <option>Best compression</option>
            </select>
        </div>

        <!-- Reverse Checkbox -->
        <div class="form-group form-check">
            <input type="checkbox" class="form-check-input" id="reverseCheckbox">
            <label class="form-check-label" for="reverseCheckbox">Reverse</label>
        </div>

        <!-- Combo Box for PNG/JPG -->
        <div class="form-group">
            <label for="imageFormat">Image Format</label>
            <select class="form-control" id="imageFormat">
                <option>PNG</option>
                <option>JPG</option>
            </select>
        </div>

        <!-- Submit Button -->
        <button class="btn btn-primary" onclick="fac('as',true,true,true,true,true,true,1,1,1,1)">Submit</button>

        <textarea id="textOutput" name="textOutput" class="text-output mt-4"></textarea>
    </div>

    <script>

        var fac = function(inputPath, cstyle, shrink, reverse, stdarray, inlineVars, uncompress, fileType, outputRep, compression, compressLvl)
        {
            var inputPath = document.getElementById("inputField").value;
            var cstyle = document.getElementById("cppCheckbox").checked;
            var shrink = document.getElementById("shrinkCheckbox").checked;
            var reverse = document.getElementById("reverseCheckbox").checked;
            var stdarray = document.getElementById("arrayCheckbox").checked;
            var inlineVars = document.getElementById("inlineCheckbox").checked;
            var uncompress = document.getElementById("ucCheckbox").checked;
            var fileType = document.getElementById("imageFormat").selectedIndex;
            var outputRep = document.getElementById("numberType").selectedIndex;
            var compression = document.getElementById("gzipCheckbox").checked ? 1 : (document.getElementById("zlibCheckbox").checked ? 2 : 0);
            var compressLvl = document.getElementById("speedCompression").selectedIndex;

            textOutput.value = formatJSON(inputPath, cstyle, shrink, reverse, stdarray, inlineVars, uncompress, fileType, outputRep, compression, compressLvl);
        
        }

    </script>

    <!-- Bootstrap JS and dependencies -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</body>
</html>
